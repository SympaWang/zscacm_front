import{b as _}from"./ac-ad3d1c55.js";import{_ as f,e as w,r as u,o as n,c as i,b as m,d as c,a as l,w as p,F as r,l as g,t as y,f as x}from"./index-93209f80.js";const E={data:function(){return{users:[],value:w(""),options:[{value:"全部",label:""},{value:"2019",label:"2019"},{value:"2020",label:"2020"},{value:"2021",label:"2021"},{value:"2022",label:"2022"}],tableEmptyText:"没有符合条件的队员"}},created(){this.onSubmit()},methods:{onSubmit(){this.tableEmptyText="查询中......",(this.value==""||this.value=="全部")&&(this.value=null),_(this.value).then(a=>{this.users=a.data.data,this.users.sort(this.cmp);var o=1;this.users.forEach(e=>{e.url="https://www.luogu.com.cn/user/"+e.lgid,e.id=o,o=o+1,e.acNum1=e.solves[0].problemNum,e.acNum2=e.solves[1].problemNum,e.acNum3=e.solves[2].problemNum,e.acNum4=e.solves[3].problemNum,e.acNum5=e.solves[4].problemNum,e.acNum6=e.solves[5].problemNum,e.acNum7=e.solves[6].problemNum,e.acNum8=e.solves[7].problemNum,console.log(e)}),this.tableEmptyText="没有符合条件的队员"}).catch(a=>{this.users=null,console.log(a),ElMessage.error("请求超时，请重试！"),this.tableEmptyText="查询失败，请重试！"})},cmp(a,o){return a.acNum>o.acNum}}},T={style:{padding:"50px 0"}},k={style:{padding:"50px 0"}},C=["href"];function S(a,o,e,V,B,d){const b=u("el-option"),h=u("el-select"),N=u("el-button"),t=u("el-table-column"),v=u("el-table");return n(),i(r,null,[m("div",T,[c(" 请选择年级 "),l(h,{modelValue:a.value,"onUpdate:modelValue":o[0]||(o[0]=s=>a.value=s),class:"m-2",placeholder:"Select",size:"large"},{default:p(()=>[(n(!0),i(r,null,g(a.options,s=>(n(),x(b,{key:s.value,label:s.label,value:s.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),l(N,{type:"primary",onClick:d.onSubmit},{default:p(()=>[c("查询")]),_:1},8,["onClick"])]),m("div",k,[l(v,{data:a.users,style:{width:"100%"},stripe:"true","empty-text":a.tableEmptyText},{default:p(()=>[l(t,{label:"队员列表"},{default:p(()=>[l(t,{prop:"id",label:"题数排名",width:"100"}),l(t,{prop:"name",label:"队员姓名",width:"150"}),l(t,{prop:"lgid",label:"洛谷id",width:"100"},{default:p(s=>[m("div",null,[m("a",{href:s.row.url},y(s.row.lgid),9,C)])]),_:1}),l(t,{prop:"acNum1",label:"暂无评定",width:"100"}),l(t,{prop:"acNum2",label:"入门",width:"100"}),l(t,{prop:"acNum3",label:"普及-",width:"100"}),l(t,{prop:"acNum4",label:"普及/提高-",width:"100"}),l(t,{prop:"acNum5",label:"普及+/提高",width:"100"}),l(t,{prop:"acNum6",label:"提高+/省选",width:"100"}),l(t,{prop:"acNum7",label:"省选/NOI-",width:"100"}),l(t,{prop:"acNum8",label:"NOI/NOI+/CTSC",width:"100"}),l(t,{prop:"acNum",label:"总题数"})]),_:1})]),_:1},8,["data","empty-text"])])],64)}const O=f(E,[["render",S]]);export{O as default};
