import{a as w}from"./ac-ad3d1c55.js";import{_ as E,e as d,E as j,r as s,j as k,o as i,c as p,b as u,d as c,a as t,w as n,k as x,f as m,F as b,l as V,t as N}from"./index-93209f80.js";const T={data:function(){return{users:[],value:d(""),options:[{value:"全部",label:""},{value:"2019",label:"2019"},{value:"2020",label:"2020"},{value:"2021",label:"2021"},{value:"2022",label:"2022"}],tableEmptyText:"没有符合条件的队员",loading:0}},created(){this.onSubmit()},methods:{onSubmit(){this.tableEmptyText="查询中......",this.loading=d(!0),(this.value==""||this.value=="全部")&&(this.value=null),w(this.value).then(e=>{console.log(e),this.users=e.data.data,this.users.sort(this.cmp);var l=1;this.users.forEach(r=>{r.url="https://vjudge.csgrandeur.cn/user/"+r.vjName,r.id=l,l=l+1}),this.tableEmptyText="没有符合条件的队员",this.loading=0}).catch(e=>{this.users=null,console.log(e),j.error("请求超时，请重试！"),this.tableEmptyText="查询失败，请重试！",this.loading=0})},cmp(e,l){return e.totalProblem>l.totalProblem}}},P={style:{padding:"50px 0"}},S={style:{padding:"50px 0"}},B=["href"];function C(e,l,r,D,$,h){const v=s("el-option"),_=s("el-select"),f=s("el-button"),o=s("el-table-column"),g=s("el-table"),y=k("loading");return i(),p(b,null,[u("div",P,[c(" 请选择年级 "),t(_,{modelValue:e.value,"onUpdate:modelValue":l[0]||(l[0]=a=>e.value=a),class:"m-2",placeholder:"Select",size:"large"},{default:n(()=>[(i(!0),p(b,null,V(e.options,a=>(i(),m(v,{key:a.value,label:a.label,value:a.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),t(f,{type:"primary",onClick:h.onSubmit},{default:n(()=>[c("查询")]),_:1},8,["onClick"])]),u("div",S,[x((i(),m(g,{data:e.users,style:{width:"100%"},stripe:"true","empty-text":e.tableEmptyText},{default:n(()=>[t(o,{label:"队员列表"},{default:n(()=>[t(o,{prop:"id",label:"题数排名",width:"180"}),t(o,{prop:"name",label:"队员姓名",width:"280"}),t(o,{prop:"vjName",label:"vj账号",width:"300"},{default:n(a=>[u("div",null,[u("a",{href:a.row.url},N(a.row.vjName),9,B)])]),_:1}),t(o,{prop:"weekProblem",label:"7日内做题数",width:"180"}),t(o,{prop:"monthProblem",label:"30日内做题数",width:"180"}),t(o,{prop:"totalProblem",label:"总题量"})]),_:1})]),_:1},8,["data","empty-text"])),[[y,e.loading]])])],64)}const U=E(T,[["render",C]]);export{U as default};
