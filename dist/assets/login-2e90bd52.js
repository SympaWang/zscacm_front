import{A as f,_,i as m,E as h,r as s,o as g,c as w,b as l,t as y,a as t,w as a,d as p}from"./index-93209f80.js";const b="http://localhost:8848/";function k(o){return f({method:"POST",data:o,url:b+"login"})}const V={data:function(){return{form:m({name:"",password:""}),info:""}},methods:{onSubmit(){var o=m({username:this.form.name,password:this.form.password});k(o).then(e=>{this.info="",e.data.data.token==null?this.info="用户名或密码错误！":(localStorage.setItem("userToken",e.data.data.token),console.log(localStorage.getItem("userToken")),this.$store.commit("setLogin",1),this.$store.commit("setUid",e.data.data.uid),this.$store.commit("setUsername",this.form.name),this.$store.commit("setUserType",e.data.data.userType),console.log(e.data.data.userType),window.location.replace("http://localhost:5173"))}).catch(e=>{h.error("请求超时，请重试！"),console.log(e)})}}},$={style:{margin:"200px 300px","background-color":"white"}},v=l("div",{style:{padding:"40px 0","font-size":"40px"}}," 登录 ",-1),T={style:{color:"red"}},x={style:{padding:"40px 40px"}};function S(o,e,U,C,B,c){const r=s("el-input"),d=s("el-form-item"),u=s("el-form"),i=s("el-button");return g(),w("div",$,[v,l("div",T,y(o.info),1),l("div",x,[t(u,{model:o.form,"label-width":"120px"},{default:a(()=>[t(d,{label:"用户名"},{default:a(()=>[t(r,{modelValue:o.form.name,"onUpdate:modelValue":e[0]||(e[0]=n=>o.form.name=n)},null,8,["modelValue"])]),_:1}),t(d,{label:"密码"},{default:a(()=>[t(r,{modelValue:o.form.password,"onUpdate:modelValue":e[1]||(e[1]=n=>o.form.password=n),"show-password":""},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),t(i,{type:"primary",onClick:c.onSubmit},{default:a(()=>[p("登录")]),_:1},8,["onClick"]),t(i,{type:"info"},{default:a(()=>[p("忘记密码？")]),_:1})])])}const I=_(V,[["render",S]]);export{I as default};
