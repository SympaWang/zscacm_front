import{A as _,_ as w,e as y,E as h,r as p,o as I,c as x,b as n,a as e,w as i,F as S,n as m,t as f}from"./index-93209f80.js";import{c as v}from"./changeColor-7a9dbd86.js";const g="http://localhost:8848/";function E(){return _({method:"GET",url:g+"FutureContests"})}function C(){return _({method:"GET",url:g+"users"})}const T={data:function(){return{iconUrl:"/static/zscacm.png",contests:null,users:null,loading:0}},methods:{formatSeconds(t){let l=parseInt(t),s=0,r=0,c=0;l>60&&(s=parseInt(l/60),l=parseInt(l%60),s>60&&(r=parseInt(s/60),s=parseInt(s%60),r>23&&(c=parseInt(r/24),r=parseInt(r%24))));let o=""+parseInt(l)+"秒";return s>0&&(o=""+parseInt(s)+"分"+o),r>0&&(o=""+parseInt(r)+"小时"+o),c>0&&(o=""+parseInt(c)+"天"+o),console.log("result：",o),o},rankStyle(t){return v(t)}},created:function(){this.loading=y(!0),E().then(t=>{console.log(t),this.contests=t.data,this.contests.forEach(l=>{l.relativeTime=this.formatSeconds(-l.relativeTime),l.durationSeconds=this.formatSeconds(l.durationSeconds)}),this.loading=0}).catch(t=>{h.error("请求超时，请重试！"),console.log(t)}),C().then(t=>{console.log(t),this.users=t.data.data,this.users.forEach(l=>{})}).catch(t=>{h.error("请求超时，请重试！"),console.log(t)})}},k={style:{padding:"50px 0"}},B={align:"center",class:"neauacm_logo",style:{padding:"10px 0 30px 0"}},F=n("td",{width:"5%"},null,-1),R=n("td",null,[n("h2",null,"电子科技大学中山学院ACM集训队")],-1),U={style:{padding:"50px 0",width:"100%"}};function A(t,l,s,r,c,o){const b=p("el-image"),a=p("el-table-column"),u=p("el-table");return I(),x(S,null,[n("div",k,[n("div",null,[n("table",B,[n("tbody",null,[n("tr",null,[n("td",null,[e(b,{style:{width:"200px",height:"200px"},src:t.iconUrl},null,8,["src"])]),F,R])])])]),e(u,{data:t.contests,style:{width:"100%"}},{default:i(()=>[e(a,{label:"未来的比赛"},{default:i(()=>[e(a,{prop:"id",label:"编号",width:"180"}),e(a,{prop:"name",label:"比赛名",width:"500"}),e(a,{prop:"beginTime",label:"开始时间",width:"250"}),e(a,{prop:"durationSeconds",label:"比赛时长",width:"180"}),e(a,{prop:"relativeTime",label:"距离开始时间"})]),_:1})]),_:1},8,["data"])]),n("div",U,[e(u,{data:t.users,style:{width:"100%"}},{default:i(()=>[e(a,{label:"队员信息"},{default:i(()=>[e(a,{prop:"name",label:"姓名",width:"200"}),e(a,{prop:"grade",label:"年级",width:"150"}),e(a,{prop:"rating",label:"当前cf分数",width:"250"},{default:i(d=>[n("div",{style:m(o.rankStyle(d.row.rating))},f(d.row.rating),5)]),_:1}),e(a,{prop:"maxRating",label:"最高cf分数",width:"250"},{default:i(d=>[n("div",{style:m(o.rankStyle(d.row.maxRating))},f(d.row.maxRating),5)]),_:1}),e(a,{prop:"contestNum",label:"cf参赛场数",width:"250"}),e(a,{prop:"solved",label:"总题数(cf+洛谷+VJ)"})]),_:1})]),_:1},8,["data"])])],64)}const z=w(T,[["render",A]]);export{z as default};
