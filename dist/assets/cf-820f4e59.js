import{g as k}from"./ac-ad3d1c55.js";import{c as E}from"./changeColor-7a9dbd86.js";import{_ as x,e as c,E as S,r as n,j as C,o as u,c as p,b as r,d as m,a,w as s,k as N,f as h,F as _,l as T,t as b,n as V}from"./index-93209f80.js";const B={data:function(){return{users:[],value:c(""),options:[{value:"全部",label:""},{value:"2019",label:"2019"},{value:"2020",label:"2020"},{value:"2021",label:"2021"},{value:"2022",label:"2022"}],tableEmptyText:"没有符合条件的队员",loading:0}},created(){this.onSubmit()},methods:{onSubmit(){this.tableEmptyText="查询中......",this.loading=c(!0),(this.value==""||this.value=="全部")&&(this.value=null),k(this.value).then(e=>{this.users=e.data.data,this.users.sort(this.cmp);var l=1;this.users.forEach(i=>{i.url="https://codeforces.com/profile/"+i.handle,i.id=l,l=l+1}),this.tableEmptyText="没有符合条件的队员",this.loading=0}).catch(e=>{this.users=null,console.log(e),S.error("请求超时，请重试！"),this.tableEmptyText="查询失败，请重试！",this.loading=0})},cmp(e,l){return e.acNum>l.acNum},rankStyle(e){return E(e)}}},D={style:{padding:"50px 0"}},z={style:{padding:"50px 0"}},F=["href"];function L(e,l,i,U,$,d){const f=n("el-option"),v=n("el-select"),g=n("el-button"),o=n("el-table-column"),y=n("el-table"),w=C("loading");return u(),p(_,null,[r("div",D,[m(" 请选择年级 "),a(v,{modelValue:e.value,"onUpdate:modelValue":l[0]||(l[0]=t=>e.value=t),class:"m-2",placeholder:"Select",size:"large"},{default:s(()=>[(u(!0),p(_,null,T(e.options,t=>(u(),h(f,{key:t.value,label:t.label,value:t.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),a(g,{type:"primary",onClick:d.onSubmit},{default:s(()=>[m("查询")]),_:1},8,["onClick"])]),r("div",z,[N((u(),h(y,{data:e.users,style:{width:"100%"},stripe:"true","empty-text":e.tableEmptyText},{default:s(()=>[a(o,{label:"队员列表"},{default:s(()=>[a(o,{prop:"id",label:"题数排名",width:"180"}),a(o,{prop:"name",label:"队员姓名",width:"380"}),a(o,{prop:"handle",label:"cf昵称",width:"400"},{default:s(t=>[r("div",null,[r("a",{href:t.row.url},b(t.row.handle),9,F)])]),_:1}),a(o,{prop:"rating",label:"分数"},{default:s(t=>[r("div",{style:V(d.rankStyle(t.row.rating))},b(t.row.rating),5)]),_:1}),a(o,{prop:"acNum",label:"题数"})]),_:1})]),_:1},8,["data","empty-text"])),[[w,e.loading]])])],64)}const q=x(B,[["render",L]]);export{q as default};
