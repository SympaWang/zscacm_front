import{A as D,_ as A,e as I,i as C,E as L,r as s,j as M,o as f,c as V,b as i,a as e,w as n,k as T,f as k,F as S,d as y,t as c,n as N,l as q,v as R}from"./index-93209f80.js";import{c as j}from"./changeColor-7a9dbd86.js";const G="http://localhost:8848/";function K(l,a,p){var r=G+"problemList?currentPage="+a;return l.problemName!=null&&(r=r+"&problemName="+l.problemName),l.diff1!=null&&(r=r+"&diff1="+l.diff1),l.diff2!=null&&(r=r+"&diff2="+l.diff2),l.problemIds!=null&&(r=r+"&problemIds="+l.problemIds),l.problemType!=null&&(r=r+"&problemType="+encodeURI(l.problemType)),p!=null&&p!=""&&(r=r+"&sysUser="+p),r=r+"&submited="+l.submited,r=r.replace(/ /g,"%20"),console.log(r),D({method:"GET",url:r})}I(!0);const O={data:function(){return{form:C({problemName:null,problemIds:null,submited:"0",diff1:null,diff2:null,problemType:[]}),problems:null,pageCount:1,currentPage:1,typeMap:{"2-sat":"2-SAT问题","binary search":"二分",bitmasks:"位运算","brute force":"暴力","chinese remainder theorem":"中国剩余定理",combinatorics:"组合数学","constructive algorithms":"构造","data structures":"数据结构","dfs and similar":"DFS","divide and conquer":"分治",dp:"动态规划",dsu:"并查集","expression parsing":"表达式分析",fft:"FFT",flows:"网络流",games:"博弈",geometry:"几何","graph matchings":"图的匹配",graphs:"图",greedy:"贪心",hashing:"哈希",implementation:"代码能力",interactive:"交互",math:"数学",matrices:"矩阵","meet-in-the-middle":"中途相遇","number theory":"数论",probabilities:"概率",schedules:"安排","shortest paths":"最短路",sortings:"排序","string suffix structures":"字符串后缀数据结构",strings:"字符串","ternary search":"三分",trees:"树","two points":"尺取"},showType:!1,tableEmptyText:"没有符合条件的题目",loading:0,total:0}},created(){this.onSubmit()},methods:{handleSizeChange(l){this.pageSize=l},handleCurrentChange(l){this.currentPage=l},clearForm(){this.form=C({problemName:null,problemIds:null,submited:"0",diff1:null,diff2:null,problemType:[]})},onSubmit(){this.tableEmptyText="正在查询中……",this.loading=I(!0),K(this.form,this.currentPage,this.$store.state.username).then(l=>{this.total=l.data[l.data.length-1].total,this.pageCount=Math.floor(this.total/30),this.total%30!=0&&(this.total=this.total+1),l.data.pop(),this.problems=l.data,this.problems.forEach(a=>{a.problemName=a.problem.problemName,a.id=""+a.problem.firstId+String.fromCharCode(64+a.problem.secondId),a.problem.thirdId!=0&&(a.id=a.id+a.problem.thirdId),a.difficulty=a.problem.difficulty,a.difficulty==0&&(a.difficulty="未定"),a.acceptNum=a.problem.acceptNum,a.url=a.problem.url,a.status=a.status.toLowerCase()}),this.loading=0,this.tableEmptyText="没有符合条件的题目"}).catch(l=>{this.problems=null,console.log(l),L.error("请求超时，请重试！"),this.tableEmptyText="查询失败，请重试！",this.loading=0})},rankStyle(l){return j(l)}}},H={style:{padding:"50px 0"}},J=i("span",{class:"text-gray-500"},"-",-1),Q=["href"],W={class:"example-pagination-block",style:{padding:"20px 0"}};function X(l,a,p,r,Y,m){const b=s("el-input"),u=s("el-form-item"),g=s("el-option"),E=s("el-select"),h=s("el-col"),t=s("el-checkbox"),F=s("el-checkbox-group"),v=s("el-button"),_=s("el-form"),U=s("el-switch"),d=s("el-table-column"),P=s("el-tag"),z=s("el-table"),x=s("el-pagination"),B=M("loading");return f(),V(S,null,[i("div",H,[e(_,{model:l.form,"label-width":"120px"},{default:n(()=>[e(u,{value:"problemName",label:"问题名称"},{default:n(()=>[e(b,{modelValue:l.form.problemName,"onUpdate:modelValue":a[0]||(a[0]=o=>l.form.problemName=o)},null,8,["modelValue"])]),_:1}),e(u,{value:"problemId",label:"问题编号"},{default:n(()=>[e(b,{modelValue:l.form.problemIds,"onUpdate:modelValue":a[1]||(a[1]=o=>l.form.problemIds=o)},null,8,["modelValue"])]),_:1}),e(u,{label:"仅显示未通过"},{default:n(()=>[e(E,{modelValue:l.form.submited,"onUpdate:modelValue":a[2]||(a[2]=o=>l.form.submited=o)},{default:n(()=>[e(g,{label:"否",value:"0"}),e(g,{label:"是",value:"1"})]),_:1},8,["modelValue"])]),_:1}),e(u,{label:"难度区间"},{default:n(()=>[e(h,{span:11},{default:n(()=>[e(b,{modelValue:l.form.diff1,"onUpdate:modelValue":a[3]||(a[3]=o=>l.form.diff1=o)},null,8,["modelValue"])]),_:1}),e(h,{span:2,class:"text-center"},{default:n(()=>[J]),_:1}),e(h,{span:11},{default:n(()=>[e(b,{modelValue:l.form.diff2,"onUpdate:modelValue":a[4]||(a[4]=o=>l.form.diff2=o)},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{value:"problemType",label:"标签(最多三个)"},{default:n(()=>[e(F,{modelValue:l.form.problemType,"onUpdate:modelValue":a[5]||(a[5]=o=>l.form.problemType=o),max:3},{default:n(()=>[e(t,{value:"2-sat",label:"2-SAT问题",name:"type"}),e(t,{value:"binary search",label:"二分",name:"type"}),e(t,{value:"bitmasks",label:"位运算",name:"type"}),e(t,{value:"brute force",label:"暴力",name:"type"}),e(t,{value:"chinese remainder theorem",label:"中国剩余定理",name:"type"}),e(t,{value:"combinatorics",label:"组合数学",name:"type"}),e(t,{value:"constructive algorithms",label:"构造",name:"type"}),e(t,{value:"data structures",label:"数据结构",name:"type"}),e(t,{value:"dfs and similar",label:"DFS",name:"type"}),e(t,{value:"divide and conquer",label:"分治",name:"type"}),e(t,{value:"dp",label:"动态规划",name:"type"}),e(t,{value:"dsu",label:"并查集",name:"type"}),e(t,{value:"expression parsing",label:"表达式分析",name:"type"}),e(t,{value:"fft",label:"FFT",name:"type"}),e(t,{value:"flows",label:"网络流",name:"type"}),e(t,{value:"games",label:"博弈",name:"type"}),e(t,{value:"geometry",label:"几何",name:"type"}),e(t,{value:"graph matchings",label:"图的匹配",name:"type"}),e(t,{value:"graphs",label:"图",name:"type"}),e(t,{value:"greedy",label:"贪心",name:"type"}),e(t,{value:"hashing",label:"哈希",name:"type"}),e(t,{value:"implementation",label:"代码能力",name:"type"}),e(t,{value:"interactive",label:"交互",name:"type"}),e(t,{value:"math",label:"数学",name:"type"}),e(t,{value:"matrices",label:"矩阵",name:"type"}),e(t,{value:"meet-in-the-middle",label:"中途相遇",name:"type"}),e(t,{value:"number theory",label:"数论",name:"type"}),e(t,{value:"probabilities",label:"概率",name:"type"}),e(t,{value:"schedules",label:"安排",name:"type"}),e(t,{value:"shortest paths",label:"最短路",name:"type"}),e(t,{value:"sortings",label:"排序",name:"type"}),e(t,{value:"string suffix structures",label:"字符串后缀数据结构",name:"type"}),e(t,{value:"strings",label:"字符串",name:"type"}),e(t,{value:"ternary search",label:"三分",name:"type"}),e(t,{value:"trees",label:"树",name:"type"}),e(t,{value:"two points",label:"尺取",name:"type"})]),_:1},8,["modelValue"])]),_:1}),e(u,null,{default:n(()=>[e(v,{type:"primary",onClick:m.onSubmit},{default:n(()=>[y("查询")]),_:1},8,["onClick"]),e(v,{onClick:m.clearForm},{default:n(()=>[y("清空")]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model"])]),e(_,null,{default:n(()=>[e(u,{label:"显示题目标签"},{default:n(()=>[e(U,{modelValue:l.showType,"onUpdate:modelValue":a[6]||(a[6]=o=>l.showType=o)},null,8,["modelValue"])]),_:1})]),_:1}),T((f(),k(z,{data:l.problems,style:{width:"100%"},stripe:"true","empty-text":l.tableEmptyText},{default:n(()=>[e(d,{label:"题目列表"},{default:n(()=>[e(d,{prop:"status",label:"提交状态",width:"200"},{default:n(o=>[i("div",{style:N(o.row.status=="OK"||o.row.status=="-"?"color:green;":"color:red;")},c(o.row.status),5)]),_:1}),e(d,{prop:"id",label:"问题编号",width:"180"}),e(d,{prop:"problemName",label:"问题名称",width:"580"},{default:n(o=>[i("div",null,[i("a",{href:o.row.url},c(o.row.problemName),9,Q)]),(f(!0),V(S,null,q(o.row.type,w=>T((f(),k(P,{class:"ml-2",type:"success",key:w},{default:n(()=>[y(c(l.typeMap[w]),1)]),_:2},1024)),[[R,l.showType]])),128))]),_:1}),e(d,{prop:"difficulty",label:"难度",width:"200"},{default:n(o=>[i("div",{style:N(m.rankStyle(o.row.difficulty))},c(o.row.difficulty),5)]),_:1}),e(d,{prop:"acceptNum",label:"通过人数"})]),_:1})]),_:1},8,["data","empty-text"])),[[B,l.loading]]),i("div",null,[i("div",W,[e(x,{layout:"prev, pager, next",total:l.total,"page-count":l.pageCount,"current-page":l.currentPage,onSizeChange:m.handleSizeChange,onCurrentChange:m.handleCurrentChange,onClick:m.onSubmit},null,8,["total","page-count","current-page","onSizeChange","onCurrentChange","onClick"])])])],64)}const ee=A(O,[["render",X]]);export{ee as default};
